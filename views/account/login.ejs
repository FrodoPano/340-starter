<%- include('../layouts/header') %>

<main class="register-container">
  <h1><%= title %></h1>
  
  <% if (errors && errors.length > 0) { %>
    <div class="alert alert-danger">
      <% errors.forEach(error => { %>
        <p><%= error.msg %></p>
      <% }) %>
    </div>
  <% } %>

  <form class="register-form" method="post" action="/account/register">
    <!-- First Name (updated) -->
    <div class="form-group">
      <label for="accountFirstname">First Name</label>
      <input type="text" name="account_firstname" id="accountFirstname" required 
             value="<%= locals.account_firstname || '' %>">
    </div>

    <!-- Last Name (updated) -->
    <div class="form-group">
      <label for="accountLastname">Last Name</label>
      <input type="text" name="account_lastname" id="accountLastname" required
             value="<%= locals.account_lastname || '' %>">
    </div>

    <!-- Email (updated) -->
    <div class="form-group">
      <label for="accountEmail">Email</label>
      <input type="email" name="account_email" id="accountEmail" required
             value="<%= locals.account_email || '' %>">
    </div>

    <!-- Password (unchanged - never repopulate!) -->
    <div class="form-group">
      <label for="accountPassword">Password</label>
      <input type="password" name="account_password" id="accountPassword" required>
    </div>

    <button type="submit" class="register-button">Register</button>
  </form>

  <div class="login-link">
    <p>Already have an account? <a href="/account/login">Login here</a></p>
  </div>
</main>

<%- include('../layouts/footer') %>